<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="panel-group" id="my_accordion">
</div>
<script type="text/javascript">
    $(function () {
        var array = [];
        $.ajax({
            url: 'testAccordion.json',
            async: false,//是否异步
            success: function (data) {
                array = data;
            }
        })
        addAccordion(array);

        function addAccordion(array) {
            for (var i = 0; i < array.length; i++) {
                var childA = "";
                var listChild = array[i].child;
                if (listChild !== undefined && listChild.legend !== 0) {
                    $.each(listChild, function () {
                        var param = this.id + ",'" + this.name + "','" + this.url + "'," + this.closable;
                        childA += "<a href='#' class=\"list-group-item\" onclick=addTab(" + param + ") >" + this.name + "</a>";
                    });
                }

                //进行 添加
                var panel =
                    " <div class=\"panel panel-default\">" +
                    "    <div class=\"panel-heading\">" +
                    "           <h4 class=\"panel-title\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapse" + array[i].id + "\">\n" +
                    "                <span class=\"glyphicon glyphicon-triangle-right\"></span>\n" +
                    "                <a role=\"button\">" +
                    "                    " + array[i].name +
                    "                </a>\n" +
                    "            </h4>" +
                    "    </div>" +
                    "    <div id=\"collapse" + array[i].id + "\" class=\"panel-collapse collapse in\">" +
                    "          <div class=\"panel-body list-group\" style=\"padding: 0px\">" +
                    "              " + childA +
                    "           </div>" +
                    "    </div>" +
                    " </div>"

                //添加
                $("#my_accordion").append(panel);
            }
        }
    })
</script>
</body>
</html>